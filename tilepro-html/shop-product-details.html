<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from html.kodesolution.com/2024/tilepro-html/shop-product-details.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Sep 2024 20:37:31 GMT -->
<head>
    <meta charset="utf-8">
    <title>Al-Qadomy | Tiling & Flooring Services | </title>
    
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="css/slick-theme.css">
    <link rel="stylesheet" type="text/css" href="css/slick.css">
    <link href="css/style.css" rel="stylesheet">
    <link rel="shortcut icon" href="img/Logo-removebg-preview (1).png" type="image/x-icon">
    <link rel="icon" href="img/Logo-removebg-preview (1).png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">

    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
    
    <style>
        /* Modal Styles */
.modal {
    display: none; /* مخفي بشكل افتراضي */
    position: fixed;
    z-index: 9999;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.5); /* خلفية شفافة */
    justify-content: center;
    align-items: center;
}

.modal-content {
    background-color: #fff;
    padding: 20px;
    border-radius: 8px;
    width: 300px;
    text-align: center;
    box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
}

.close {
    color: #aaa;
    float: right;
    font-size: 20px;
    font-weight: bold;
    cursor: pointer;
}

.close:hover,
.close:focus {
    color: #000;
}

.modal-content p {
    margin-bottom: 20px;
}

.theme-btn {
    background-color: #f94a29;
    color: white;
    border: none;
    cursor: pointer;
    border-radius: 5px;
}

.theme-btn:hover {
    background-color: #f94a29;
}

    </style>

    </head>
<body>
<div class="page-wrapper">

<div class="preloader"></div>

<header class="main-header header-style-one">
    <div class="header-lower">
        <div class="auto-container">
            <div class="main-box">
                <div class="logo-box">
                    <div class="logo">
                        <a href="index.html">
                            <img src="img/Logo-removebg-preview (1).png" style="height: 100px;" alt="شعار القادمي" title="الصفحة الرئيسية">
                        </a>
                    </div>
                </div>

                <div class="nav-outer">
                    <nav class="nav main-menu">
                        <ul class="navigation">
                            <li><a href="index.html">الرئيسية</a></li>
                            <li class=""><a href="shop-products.html">الفئات</a></li>
                            <li><a href="page-services.html">الخدمات</a></li>
                            <li><a href="news-grid.html">الأخبار</a></li>
                            <li class="dropdown">
                                <a href="#">الصفحات</a>
                                <ul>
                                    <li><a href="page-about.html">عن الشركة</a></li>
                                    <li><a href="page-projects.html">المشاريع</a></li>
                                    <li><a href="page-team.html">الفريق</a></li>
                                    <li><a href="page-faq.html">الأسئلة الشائعة</a></li>
                                </ul>
                            </li>
                        </ul>
                    </nav>
                </div>

                <div class="outer-box">
                    <div class="search-btn">
                        <a href="#" class="search" style="font-size: 20px; color: #333;"><i class="flaticon-search-3"></i></a>
                    </div>
                    <!-- أيقونة عربة التسوق -->
                    <div class="cart-btn" style="display: inline-flex; align-items: center; margin-left: 15px; ">
                        <a href="shop-cart.html" class="cart-icon" style="display: inline-flex; align-items: center; position: relative; text-decoration: none; color: #333;">
                            <i class="fa fa-shopping-cart" style="font-size: 24px; position: relative; right: 25px;"></i>
                            <span class="badge" style="
                                background-color: #f94a29; /* لون خلفية الرقم */
                                color: #fff; /* لون نص الرقم */
                                border-radius: 50%; /* شكل دائري */
                                height: 24px; /* ارتفاع الرقم */
                                width: 24px; /* عرض الرقم */
                                display: flex;
                                align-items: center;
                                justify-content: center;
                                font-size: 12px; /* حجم نص الرقم */
                                position: absolute; /* موضع الرقم */
                                top: -10px; /* موضع الرقم أعلى قليلاً */
                                right: 15px; /* موضع الرقم لليمين قليلاً */
                            ">3</span>
                        </a>
                    </div>
                    <div class="btn">
                        <a href="Login.html" id="auth-btn" class="theme-btn" style="position: relative; left: 5em;">تسجيل</a>
                    </div>
                    <div class="mobile-nav-toggler">
                        <i class="fa fa-bars"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- الجزء الخاص بالنافذة المتنقلة -->
    <div class="mobile-menu">
        <div class="menu-backdrop"></div>
        <nav class="menu-box">
            <div class="upper-box">
                <div class="nav-logo">
                    <a href="index.html">
                        <img src="img/Logo-removebg-preview (1).png" alt="شعار القادمي" title="الصفحة الرئيسية">
                    </a>
                </div>
                <div class="close-btn"><i class="icon fa fa-times"></i></div>
            </div>
            <ul class="navigation clearfix"></ul>
            <ul class="contact-list-one">
                <li>
                    <div class="contact-info-box">
                        <i class="icon lnr-icon-phone-handset"></i>
                        <span class="title">اتصل الآن</span>
                        <a href="tel:+962-79-184-0140">+962-79-184-0140</a>
                    </div>
                </li>
                <li>
                    <div class="contact-info-box">
                        <span class="icon lnr-icon-envelope1"></span>
                        <span class="title">أرسل بريدًا إلكترونيًا</span>
                        <a href="https://mail.google.com/mail/?view=cm&fs=1&to=qadomya14@gmail.com">
                            <span class="__cf_email__" data-cfemail="462e232a360625292b3627283f6825292b">Qadomya14@gmail.com</span>
                        </a>
                    </div>
                </li>
                <li>
                    <div class="contact-info-box">
                        <span class="icon lnr-icon-clock"></span>
                        <span class="title">ساعات العمل</span>
                        من السبت إلى الخميس 9:00 - 7:30، الجمعة - مغلق
                    </div>
                </li>
            </ul>
            <ul class="social-links">
                <li><a href="https://x.com/ceramicnetwork?lang=en" target="_blank"><i class="fab fa-twitter"></i></a></li>
                <li><a href="https://www.facebook.com/QADOMY0" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
                <li><a href="https://www.instagram.com/qadomyforceramics?igsh=MzRlODBiNWFlZA==" target="_blank"><i class="fab fa-instagram"></i></a></li>
            </ul>
        </nav>
    </div>

    <div class="search-popup">
        <span class="search-back-drop"></span>
        <button class="close-search"><span class="fa fa-times"></span></button>
        <div class="search-inner">
            <form method="post" action="https://html.kodesolution.com/2024/tilepro-html/index.html">
                <div class="form-group">
                    <input type="search" name="search-field" placeholder="ابحث..." required>
                    <button type="submit"><i class="fa fa-search"></i></button>
                </div>
            </form>
        </div>
    </div>

    <div class="sticky-header">
        <div class="auto-container">
            <div class="inner-container">
                <div class="logo">
                    <a href="index.html" title><img src="img/Logo-removebg-preview (1).png" alt="شعار القادمي" title="الصفحة الرئيسية"></a>
                </div>

                <div class="nav-outer">
                    <nav class="main-menu">
                        <div class="navbar-collapse show collapse clearfix">
                            <ul class="navigation clearfix"></ul>
                        </div>
                    </nav>

                    <div class="mobile-nav-toggler">
                        <i class="fa fa-bars"></i>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>


<section class="page-title" style="background-image: url(images/background/page-title-bg.png);">
<div class="auto-container">
<div class="title-outer">
<h1 class="title">تفاصيل المنتج</h1>
<ul class="page-breadcrumb">
<li><a href="index.html">الصفحة الرئيسية</a></li>
<li>تسوق</li>
</ul>
</div>
</div>
</section>


<section class="product-details">
<div class="container pb-70">
<div class="row">
<div class="col-lg-6 col-xl-6">
<div class="bxslider" id="ImageToPro">

    <!-- <div class="slider-content">
        <figure class="image-box"><a href="img/Washbasin1.jpg" class="lightbox-image" data-fancybox="gallery"><img src="img/Washbasin1.jpg" alt></a></figure>
        <div class="slider-pager">
        <ul class="thumb-box">
        <li> <a class="active" data-slide-index="0" href="#">
        <figure><img src="img/Washbasin1.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="1" href="#">
        <figure><img src="img/Washbasin2.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="2" href="#">
        <figure><img src="img/Washbasin3.jpg" alt></figure>
        </a> </li>
        </ul>
        </div>
        </div>
        <div class="slider-content">
        <figure class="image-box"><a href="img/Washbasin2.jpg" class="lightbox-image" data-fancybox="gallery"><img src="img/Washbasin2.jpg" alt></a></figure>
        <div class="slider-pager">
        <ul class="thumb-box">
        <li> <a class="active" data-slide-index="0" href="#">
        <figure><img src="img/Washbasin1.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="1" href="#">
        <figure><img src="img/Washbasin2.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="2" href="#">
        <figure><img src="img/Washbasin3.jpg" alt></figure>
        </a> </li>
        </ul>
        </div>
        </div>
        <div class="slider-content">
        <figure class="image-box"><a href="img/Washbasin3.jpg" class="lightbox-image" data-fancybox="gallery"><img src="img/Washbasin3.jpg" alt></a></figure>
        <div class="slider-pager">
        <ul class="thumb-box">
        <li> <a class="active" data-slide-index="0" href="#">
        <figure><img src="img/Washbasin1.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="1" href="#">
        <figure><img src="img/Washbasin2.jpg" alt></figure>
        </a> </li>
        <li> <a data-slide-index="2" href="#">
        <figure><img src="img/Washbasin3.jpg" alt></figure>
        </a> </li>
        </ul>
        </div>
        </div> -->

</div>
</div>
<div class="col-lg-6 col-xl-6 product-info">
<div class="product-details__top" id="priceAndTtle">

</div>
<div class="product-details__reveiw">
    <i class="fa fa-star"></i>
    <i class="fa fa-star"></i>
    <i class="fa fa-star"></i>
    <i class="fa fa-star"></i>
    <i class="fa fa-star-half-alt"></i>
<span>80 Customer Reviews</span>
</div>
<div class="product-details__content" id="Disc">

</div>
<div class="product-details__content">
<p class="product-details__content-text2">
    <span style="color: orange;">قارب على الإنتهاء</span>
</p>

</div>
<div id="AddingToCart">

    <!-- in JS -->

</div>

<div class="product-details__social">
<div class="title mt-10">
<h3>شارك مع الأصدقاء</h3>
</div>
<ul class="social-icon-one product-share">
<li><a href="#"><i class="fab fa-twitter"></i></a></li>
<li><a href="#"><i class="fab fa-facebook-f"></i></a></li>
<li><a href="#"><i class="fab fa-pinterest"></i></a></li>
<li><a href="#"><i class="fab fa-instagram"></i></a></li>
</ul>
</div>
</div>
</div>
</div>
</section>


<section class="product-description">
<div class="container pt-0 pb-90">
<div class="product-discription">
<div class="tabs-box">
<div class="tab-btn-box text-center">
<ul class="tab-btns tab-buttons clearfix">
<li class="tab-btn active-btn" data-tab="#tab-1">Description</li>
<li class="tab-btn" data-tab="#tab-2">Reviews</li>
</ul>
</div>
<div class="tabs-content">
<div class="tab active-tab" id="tab-1">
<div class="text" id="ProductDescriptions">

</div>
</div>
<div class="tab" id="tab-2">
<div class="customer-comment">
<div class="row clearfix">
<div class="col-lg-6 col-md-6 col-sm-12 comment-column">
<div class="single-comment-box">
<div class="inner-box">
<figure class="comment-thumb"><img src="images/resource/testi-thumb1-1.png" alt></figure>
<div class="inner">
<ul class="rating clearfix">
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
</ul>
<h5>Jon D. William, <span>10 Jan, 2023 . 4:00 pm</span></h5>
<p>Aliquam hendrerit a augue insuscipit. Etiam aliquam massa quis des mauris commodo.</p>
</div>
</div>
</div>
</div>
<div class="col-lg-6 col-md-6 col-sm-12 comment-column">
<div class="single-comment-box">
<div class="inner-box">
<figure class="comment-thumb"><img src="images/resource/testi-thumb1-2.png" alt></figure>
<div class="inner">
<ul class="rating clearfix">
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
<li><i class="fas fa-star"></i></li>
</ul>
<h5>Aleesha Brown, <span>12 Feb, 2023 . 8:00 pm</span></h5>
<p>Aliquam hendrerit a augue insuscipit. Etiam aliquam massa quis des mauris commodo.</p>
</div>
</div>
</div>
</div>
</div>
</div>
<div class="comment-box">
    <h3>!شارك تجربتك معنا</h3>
    <form id="contact_form" name="contact_form" action="https://html.kodesolution.com/2024/tilepro-html/includes/sendmail.php" method="post" onsubmit="return validateForm()">
        <div class="mb-3">
            <textarea name="form_message" class="form-control required" rows="7" placeholder="Enter Message"></textarea>
        </div>
        <div class="row">
            <div class="col-sm-6">
                <div class="mb-3">
                    <input name="form_name" class="form-control" type="text" placeholder="Enter Name">
                </div>
            </div>
            <div class="col-sm-6">
                <div class="mb-3">
                    <input name="form_email" class="form-control required email" type="email" placeholder="Enter Email">
                </div>
            </div>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 column">
            <div class="review-box clearfix">
                <p>تقييمك</p>
                <ul class="rating clearfix" id="user-rating">
                    <li data-value="1"><i class="far fa-star"></i></li>
                    <li data-value="2"><i class="far fa-star"></i></li>
                    <li data-value="3"><i class="far fa-star"></i></li>
                    <li data-value="4"><i class="far fa-star"></i></li>
                    <li data-value="5"><i class="far fa-star"></i></li>
                </ul>
            </div>
        </div>
        <div class="col-lg-12 col-md-12 col-sm-12 column">
            <div class="form-group clearfix">
                <div class="custom-controls-stacked">
                    <label class="custom-control material-checkbox">
                        <input type="checkbox" class="material-control-input" id="saveInfoCheckbox">
                        <span class="material-control-indicator"></span>
                        <span class="description">احفظ اسمي وبريدي الإلكتروني في هذا المتصفح للمرة التالية التي أعلق فيها</span>
                    </label>
                </div>
            </div>
        </div>
        <div class="mb-3">
            <input name="form_botcheck" class="form-control" type="hidden" value />
            <button type="submit" class="theme-btn btn-style-one" data-loading-text="Please wait...">Submit Comment</button>
        </div>
    </form>
</div>

<!-- Modal -->
<div id="popupModal" class="modal">
    <div class="modal-content">
        <span class="close" onclick="closePopup()">&times;</span>
        <p>يجب الموافقة على حفظ الاسم والبريد الإلكتروني قبل تأكيد التعليق.</p>
        <button class="theme-btn btn-style-one" onclick="closePopup()">موافق</button>
    </div>
</div>

</div>
</div>
</div>
</div>
</div>
</section>

<section class="related-product">
<div class="container pt-0 pb-90">
<h3>منتجات متشابهة</h3>
<div class="row clearfix">
<div class="col">

<div class="mixitup-gallery">
<div class="filter-list row" id="related">



</div>
</div>
</div>
</div>
</div>
</section>

<footer class="main-footer footer-style-one">

    <div class="widgets-section" style="padding-bottom: 0px;">
    <div class="auto-container">
    <div class="row">
    
    <div class="footer-column col-lg-3 col-sm-6">
    <div class="footer-widget contact-widget">
    <div class="logo-box">
    <div class="logo"><a href="index.html"><img src="img/Logo-removebg-preview (1).png" style="width: 200px; height: 200px;" alt title="Tronis"></a></div>
    </div>
    <div class="widget-content">
    <div class="content-box">
    <div class="icon-box">
    <i class="flaticon-envelope"></i>
    </div>
    <span>البريد الإلكتروني</span>
    <h6 class="title"><a href="https://mail.google.com/mail/?view=cm&fs=1&to=qadomya14@gmail.com" class="__cf_email__" data-cfemail="355c5b535a754c5a404758545c591b565a58">Qadomya14@gmail.com</a></h6>
    </div>
    <div class="content-box">
    <div class="icon-box">
    <i class="flaticon-clock-3"></i>
    </div>
    <span>Open Time</span>
    <h6 class="title">9:00 Am - 7:30 Pm, Sat - thu </h6>
    </div>
    <ul class="social-icons">
        <li><a href="https://x.com/ceramicnetwork?lang=en" target="_blank"><i class="fab fa-twitter"></i></a></li>
        <li><a href="https://www.facebook.com/QADOMY0" target="_blank"><i class="fab fa-facebook-f"></i></a></li>
        <li><a href="https://www.instagram.com/qadomyforceramics?igsh=MzRlODBiNWFlZA==" target="_blank"><i class="fab fa-instagram"></i></a></li>    
    </ul>
    </div>
    </div>
    </div>
    
    <div class="footer-column col-lg-3 col-sm-6">
    <div class="footer-widget links-widget pl-lg-30 pl-md--0">
    <h4 class="widget-title">تعرف على خدماتنا الفريدة</h4>
    <div class="widget-content">
    <ul class="user-links style-two">
    <li><a href="#">Flooring Service</a></li>
    <li><a href="#">Wooden Services</a></li>
    <li><a href="#">Corporate Tiles</a></li>
    <li><a href="#">Carpet Setup</a></li>
    <li><a href="#">Tiles Setup</a></li>
    </ul>
    </div>
    </div>
    </div>
    
    <div class="footer-column col-lg-3 col-sm-6">
    <div class="footer-widget links-widget two pl-lg-30 pl-md--0">
    <h4 class="widget-title">تعرف علينا</h4>
    <div class="widget-content">
    <ul class="user-links style-two">
    <li><a href="#">Company History</a></li>
    <li><a href="#">Latest Services</a></li>
    <li><a href="#">Meet The Team</a></li>
    <li><a href="#">Our Team</a></li>
    <li><a href="#">Tiles Toilet Stones</a></li>
    </ul>
    </div>
    </div>
    </div>
    
    <div class="footer-column col-lg-3 col-sm-6">
        <div class="footer-widget about-widget">
            <h4 class="widget-title">موقعنا</h4>
            <div class="text">نرحب بكم في معرض القدومي للسيراميك، حيث نعرض أحدث منتجاتنا</div>
            <div class="map-container">
                <iframe
                src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3362.445816896865!2d35.867312999999996!3d32.567632599999996!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x151c7432370fff93%3A0x1ccde88792caaf9!2z2KfZhNmC2K_ZiNmF2Yog2YTZhNiz2YrYsdin2YXZitmD!5e0!3m2!1sar!2sjo!4v1722115683791!5m2!1sar!2sjo"
                    width="100%" height="200" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
            </div>
        </div>
    </div>
    
    </div>
    </div>
    </div>
    
    <div class="footer-bottom">
    <div class="auto-container">
    <div class="inner-container">
    <div class="copyright-text"><p>&copy; <span class="current-year"></span>  Al-Qadomy CO. All Rights Reserved | Design by
        <a href="https://ahmadqadomi-1.github.io/Portfolio-Project/" target="_blank">Orange Coding Academy Member</a></p>
    </div>
    </div>
    </div>
    </div>
    <div class="scroll-to-top scroll-to-target arrow-btn" data-target="html" style><i class="fa-sharp fa-solid fa-arrow-up"></i></div>
    </footer>

</div>

<div class="scroll-to-top scroll-to-target" data-target="html"><span class="fa fa-angle-up"></span></div>

<Script>
async function addToCart(event) {
    event.preventDefault(); // منع إعادة تحميل الصفحة عند الضغط على الزر

    var id = localStorage.getItem("productId");
    let quantityInput = document.getElementById("quantityInput").value;

    if (quantityInput <= 0) {
        alert("الرجاء إدخال كمية صحيحة");
        return;
    }

    let isLoggedIn = checkUserLogin(); // تحقق مما إذا كان المستخدم مسجلاً
    let userId = localStorage.getItem('userId'); // احصل على UserID من localStorage

    if (isLoggedIn) {
        // إرسال بيانات العربة إلى السيرفر مع UserID
        let cartData = {
            userId: userId, // إضافة UserID
            productId: id,
            quantity: parseInt(quantityInput)
        };

        await sendCartDataToServer(cartData); // أرسل البيانات إلى السيرفر

        alert("تمت الإضافة بنجاح إلى قاعدة البيانات!");
    } else {
        // إذا لم يكن المستخدم مسجلاً، احفظ البيانات في localStorage
        let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];
        const existingProduct = cartItems.find(item => item.id === id);
        if (existingProduct) {
            existingProduct.quantity += parseInt(quantityInput);
        } else {
            cartItems.push({ id: id, quantity: parseInt(quantityInput) });
        }
        localStorage.setItem('cartItems', JSON.stringify(cartItems));
        alert("تمت الإضافة بنجاح إلى Local Storage!");
    }

    // الانتقال إلى صفحة عربة التسوق
    window.location.href = "shop-cart.html";
}

async function sendCartDataToServer(cartData) {
    let url = "https://localhost:44327/api/Cart/Add"; // استبدل هذا بعنوان API الخاص بك
    try {
        let response = await fetch(url, {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${localStorage.getItem("jwtToken")}` // أضف توكن الأمان إذا لزم الأمر
            },
            body: JSON.stringify(cartData)
        });

        if (!response.ok) {
            throw new Error("Network response was not ok");
        }

        console.log("Data saved successfully:", await response.json());
    } catch (error) {
        console.error("Error sending cart data to server:", error);
    }
}

async function loadCartForLoggedInUser() {
    let userId = localStorage.getItem('userId'); // احصل على UserID من localStorage
    let url = `https://localhost:44327/api/Cart/GetCartItems/${userId}`; // استبدل بهذا بعنوان API الخاص بك
    try {
        let response = await fetch(url, {
            method: 'GET',
            headers: {
                'Authorization': `Bearer ${localStorage.getItem("jwtToken")}` // أضف توكن الأمان إذا لزم الأمر
            }
        });

        if (!response.ok) {
            throw new Error("Network response was not ok");
        }

        let cartItems = await response.json();
        localStorage.setItem('cartItems', JSON.stringify(cartItems)); // حفظ المنتجات في Local Storage
        console.log("Loaded cart items for user:", cartItems);
    } catch (error) {
        console.error("Error loading cart from server:", error);
    }
}


</Script>

<script>
async function ShowDetails() {
    var id = localStorage.getItem("productId");
    let url = `https://localhost:44327/api/Product/GetProductByID/${id}`;

    try {
        let response = await fetch(url);
        if (!response.ok) {
            throw new Error("Network response was not ok");
        }
        let data = await response.json();
        console.log("API response:", data);
        
        let AddItemToCart = document.getElementById("AddingToCart");
        AddItemToCart.insertAdjacentHTML('beforeend', `
            <form id="addToCart">
                <div class="product-details__quantity">
                    <h3 class="product-details__quantity-title">اختر الكمية</h3>
                    <div class="quantity-box">
                        <button type="button" class="sub"><i class="fa fa-minus"></i></button>
                        <input type="number" id="quantityInput" value="1" min="1" />
                        <button type="button" class="add"><i class="fa fa-plus"></i></button>
                    </div>
                </div>
                <div class="product-details__buttons">
                    <div class="product-details__buttons-1">
                        <button type="button" onclick="addToCart(event)" class="theme-btn btn-style-one">أضف إلى العربة</button>
                    </div>
                </div>
            </form>
        `);

        addEventListeners();
    } catch (error) {
        console.error("Error fetching data:", error);
    }
}

function addToCart(event) {
    event.preventDefault();  // منع إعادة تحميل الصفحة عند الضغط على الزر

    var id = localStorage.getItem("productId");
    let quantityInput = document.getElementById("quantityInput").value;

    if (quantityInput <= 0) {
        alert("الرجاء إدخال كمية صحيحة");
        return;
    }

    let cartItems = JSON.parse(localStorage.getItem('cartItems')) || [];

    const existingProduct = cartItems.find(item => item.id === id);
    if (existingProduct) {
        existingProduct.quantity += parseInt(quantityInput);
    } else {
        cartItems.push({ id: id, quantity: parseInt(quantityInput) });
    }

    localStorage.setItem('cartItems', JSON.stringify(cartItems));

    alert("تمت الإضافة بنجاح!");

    // الانتقال إلى صفحة عربة التسوق
    window.location.href = "shop-cart.html";
}

function addEventListeners() {
    const addButton = document.querySelector(".add");
    const subButton = document.querySelector(".sub");
    const quantityInput = document.getElementById("quantityInput");

    addButton.removeEventListener("click", increaseQuantity);
    subButton.removeEventListener("click", decreaseQuantity);

    function increaseQuantity(event) {
        event.preventDefault(); 
        let currentQuantity = parseInt(quantityInput.value);
        quantityInput.value = currentQuantity + 1;
    }

    function decreaseQuantity(event) {
        event.preventDefault(); 
        let currentQuantity = parseInt(quantityInput.value);
        if (currentQuantity > 1) {
            quantityInput.value = currentQuantity - 1;
        }
    }

    addButton.addEventListener("click", increaseQuantity);
    subButton.addEventListener("click", decreaseQuantity);
}

// استدعاء دالة عرض التفاصيل
ShowDetails();

//////////////////////////////////////////////////////////////////
async function DescriptionP() {
var id = localStorage.getItem("productId");
let url = `https://localhost:44327/api/Product/GetProductByID/${id}`;
let response = await fetch(url);
let data = await response.json();
console.log(data)
let priceItem = document.getElementById("Disc");
priceItem.innerHTML += `
<p class="product-details__content-text1"> ${data.productDescription} </p>
    `;
  console.log(data);
}
DescriptionP();


        async function TitleAndPrice() {
var id = localStorage.getItem("productId");
let url = `https://localhost:44327/api/Product/GetProductByID/${id}`;
let response = await fetch(url);
let data = await response.json();
console.log(data)
let priceItem = document.getElementById("priceAndTtle");
priceItem.innerHTML += `
    <h3 class="product-details__title">${data.productName} <span>JOD ${data.price}</span> </h3>
    `;
  console.log(data);
}
TitleAndPrice();





    async function ProductDescription() {
var id = localStorage.getItem("productId");
let url = `https://localhost:44327/api/Product/GetProductByID/${id}`;
let response = await fetch(url);
let data = await response.json();
console.log(data)
let priceItem = document.getElementById("ProductDescriptions");
priceItem.innerHTML += `
                <h3 class="product-description__title">Description</h3>
<p class="product-description__text1">
${data.productDescription}
</p>
<div class="product-description__list">
<ul class="list-unstyled">
<li>
<p><span class="fa fa-arrow-right">${data.productDescriptionList1}</span> </p>
</li>
<li>
<p><span class="fa fa-arrow-right">${data.productDescriptionList2}</span> </p>
</li>
<li>
<p><span class="fa fa-arrow-right">${data.productDescriptionList3}</span> </p>
</li>
</ul>
</div>
    `;
  console.log(data);
}
ProductDescription();
    
async function Pro() {
var id = localStorage.getItem("productId");
let url = `https://localhost:44327/api/Product/GetProductByID/${id}`;
let response = await fetch(url);
let data = await response.json();
console.log(data)
let priceItem = document.getElementById("ImageToPro");
priceItem.innerHTML += `
        <div class="slider-content">
            <figure class="image-box"><a href="${data.productImage}" class="lightbox-image" data-fancybox="gallery"><img src="${data.productImage}" alt></a></figure>
            <div class="slider-pager">
            <ul class="thumb-box">
            <li> <a class="active" data-slide-index="0" href="#">
            <figure><img src="${data.productImage}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="1" href="#">
            <figure><img src="${data.productImage2}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="2" href="#">
            <figure><img src="${data.productImage3}" alt></figure>
            </a> </li>
            </ul>
            </div>
            </div>
            <div class="slider-content" style="display: none;">
            <figure class="image-box"><a href="${data.productImage2}" class="lightbox-image" data-fancybox="gallery"><img src="${data.productImage2}" alt></a></figure>
            <div class="slider-pager">
            <ul class="thumb-box">
            <li> <a class="active" data-slide-index="0" href="#">
            <figure><img src="${data.productImage}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="1" href="#">
            <figure><img src="${data.productImage2}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="2" href="#">
            <figure><img src="${data.productImage3}" alt></figure>
            </a> </li>
            </ul>
            </div>
            </div>
            <div class="slider-content" style="display: none;">
            <figure class="image-box"><a href="${data.productImage3}" class="lightbox-image" data-fancybox="gallery"><img src="${data.productImage3}" alt></a></figure>
            <div class="slider-pager">
            <ul class="thumb-box">
            <li> <a class="active" data-slide-index="0" href="#">
            <figure><img src="${data.productImage}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="1" href="#">
            <figure><img src="${data.productImage2}" alt></figure>
            </a> </li>
            <li> <a data-slide-index="2" href="#">
            <figure><img src="${data.productImage3}" alt></figure>
            </a> </li>
            </ul>
            </div>
        </div>
    `;
console.log(data);
}

Pro();

async function relate() {
    var id = localStorage.getItem("productId");
    console.log("Retrieved productId:", id); // التحقق من id

    // تحقق من أن productId موجود
    if (!id) {
        console.error("No productId found in localStorage");
        return;
    }

    let url = `https://localhost:44327/api/Product/GetAllProductsForOneCategory/${id}`;
    console.log("Request URL:", url); // تحقق من URL

    let response = await fetch(url);

    // تحقق من استجابة API
    if (!response.ok) {
        console.error("Failed to fetch products from API");
        return;
    }

    let data = await response.json();
    console.log("Products:", data); // تحقق من البيانات

    if (data.length === 0) {
        console.warn("No products found for this category.");
        return;
    }

    let priceItem = document.getElementById("related");

    if (!priceItem) {
        console.error("Element with id 'related' not found");
        return;
    }

    data.forEach((relate) => {
        // توليد النجوم بناءً على productRate
        let stars = '';
        const productRate = relate.productRate || 0; // استخدام default إذا كان productRate غير موجود
        const fullStars = Math.floor(productRate);
        const halfStar = productRate % 1 >= 0.5;

        for (let i = 0; i < fullStars; i++) {
            stars += '<i class="fa-solid fa-star"></i>';
        }

        if (halfStar) {
            stars += '<i class="fa-solid fa-star-half-stroke"></i>';
        }

        const emptyStars = 5 - fullStars - (halfStar ? 1 : 0);
        for (let i = 0; i < emptyStars; i++) {
            stars += '<i class="fa-regular fa-star"></i>';
        }
        
        priceItem.innerHTML += `
        <div class="product-block all mix dairy pantry meat vagetables col-lg-3 col-md-6 col-sm-12">
            <div class="inner-box">
                <div class="image"><a href="shop-product-details.html"><img src="${relate.productImage ? relate.productImage : 'default-image.jpg'}" alt="${relate.productName} (the image for product not found)" /></a></div>
                <div class="content">
                    <h4><a href="shop-product-details.html">${relate.productName}</a></h4>
                    <span class="price">JOD ${relate.price}</span>
                    <span class="rating">${stars}</span>
                </div>
                <div class="icon-box">
                    <a href="shop-product-details.html" class="ui-btn like-btn"><i class="fa fa-heart"></i></a>
                    <a href="shop-cart.html" class="ui-btn add-to-cart"><i class="fa fa-shopping-cart"></i></a>
                </div>
            </div>
        </div>
        `;
    });

    console.log(data);
}

relate();

    // الوصول إلى زر التسجيل
    let authBtn = document.getElementById("auth-btn");

// التحقق من حالة تسجيل الدخول عند تحميل الصفحة
window.onload = function() {
    if (localStorage.getItem('jwtToken')) {
        authBtn.textContent = "خروج"; // تغيير النص إلى خروج إذا كان المستخدم مسجل الدخول
        authBtn.href = "#"; // منع الانتقال إلى صفحة تسجيل الدخول
    }
};

// تسجيل الخروج عند الضغط على زر "خروج"
authBtn.addEventListener("click", function(event) {
    if (authBtn.textContent === "خروج") {
        localStorage.removeItem('jwtToken'); // حذف رمز JWT من LocalStorage
        authBtn.textContent = "تسجيل"; // إعادة النص إلى تسجيل
        authBtn.href = "index.html"; // إعادة الرابط إلى صفحة تسجيل الدخول
        alert("تم تسجيل الخروج بنجاح");
        window.location.href = "index.html"; // إعادة توجيه إلى الصفحة الرئيسية
    }
});
</script>


<script>
    function validateForm() {
    var checkbox = document.getElementById('saveInfoCheckbox');
    if (!checkbox.checked) {
        // إظهار النافذة المنبثقة
        var modal = document.getElementById('popupModal');
        modal.style.display = "flex"; // عرض النافذة بطريقة flex
        return false; // منع إرسال النموذج
    }
    return true; // السماح بإرسال النموذج
}

function closePopup() {
    var modal = document.getElementById('popupModal');
    modal.style.display = "none"; // إخفاء النافذة المنبثقة
}

</script>


<script data-cfasync="false" src="../../cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="js/jquery.js"></script>
<script src="js/popper.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/jquery.fancybox.js"></script>
<script src="js/jquery-ui.js"></script>
<script src="js/bxslider.js"></script>
<script src="js/mixitup.js"></script>
<script src="js/wow.js"></script>
<script src="js/appear.js"></script>
<script src="js/select2.min.js"></script>
<script src="js/script.js"></script>

<script src="js/jquery.validate.min.js"></script>
<script src="js/jquery.form.min.js"></script>
<script>
	(function($) {
		$("#contact_form").validate({
			submitHandler: function(form) {
				var form_btn = $(form).find('button[type="submit"]');
				var form_result_div = '#form-result';
				$(form_result_div).remove();
				form_btn.before('<div id="form-result" class="alert alert-success" role="alert" style="display: none;"></div>');
				var form_btn_old_msg = form_btn.html();
				form_btn.html(form_btn.prop('disabled', true).data("loading-text"));
				$(form).ajaxSubmit({
					dataType:  'json',
					success: function(data) {
						if( data.status == 'true' ) {
							$(form).find('.form-control').val('');
						}
						form_btn.prop('disabled', false).html(form_btn_old_msg);
						$(form_result_div).html(data.message).fadeIn('slow');
						setTimeout(function(){ $(form_result_div).fadeOut('slow') }, 6000);
					}
				});
			}
		});
	})(jQuery);
</script>
<script>
    // الحصول على عناصر النجوم
    const stars = document.querySelectorAll('#user-rating li');

    // إضافة حدث click لكل نجمة
    stars.forEach(star => {
        star.addEventListener('click', function() {
            // الحصول على قيمة النجمة التي تم النقر عليها
            const ratingValue = this.getAttribute('data-value');

            // تحديث النجوم المعروضة
            updateStars(ratingValue);
        });
    });

    // دالة لتحديث النجوم
    function updateStars(rating) {
        stars.forEach(star => {
            const starValue = star.getAttribute('data-value');
            if (starValue <= rating) {
                star.innerHTML = '<i class="fas fa-star"></i>'; // نجمة مملوءة
            } else {
                star.innerHTML = '<i class="far fa-star"></i>'; // نجمة فارغة
            }
        });

        // يمكنك هنا حفظ التقييم في متغير أو إرسال البيانات إلى الخادم
        console.log('تم تقييم المنتج بـ ' + rating + ' نجوم');
    }
</script>
</body>

<!-- Mirrored from html.kodesolution.com/2024/tilepro-html/shop-product-details.html by HTTrack Website Copier/3.x [XR&CO'2014], Fri, 13 Sep 2024 20:37:33 GMT -->
</html>